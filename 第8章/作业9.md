### 问答题：

**1） 请介绍 where( )和 piecewise( )两个函数的参数和功能，并各举一个例子演示使用。**

**2） 请介绍 corrcoef( )、 cov( )和 std( )三个函数的参数和功能，并各举一个例子演示使用。**



解答：

**(1)**

**numpy.where(condition[,x,y])**

参数：

- [,x,y] 返回的函数值，可以不填
- condition接受的条件，可以分别设置条件为真、为假时返回不同的值

功能：可以根据条件来输出输入的数组的对应元素的索引。

注：当输入的数组是一维数组时，返回的是一维数组的索引；当输入的数组是二维数组时，返回的是二维数组的索引；



例子：

```python
import numpy as np

a = np.arange(4 * 5).reshape(4, 5)
print(np.where(a > 10))
```

运行结果：

![image-20220430163654633](C:\Users\82135\AppData\Roaming\Typora\typora-user-images\image-20220430163654633.png)



**numpy.piecewise(x, condlist, funclist, *args, \*\*kw)**

参数：

- x： 表示要进行操作的对象
- condlist： 表示要满足的条件列表，可以是多个条件构成的列表
- funclist： 执行的操作列表，参数二与参数三是对应的，当参数二为true的时候，则执行相对应的操作函数

功能：

根据相关的条件，进行筛选，然后对满足不同条件的元素进行相关的操作，这个操作可以来源与函数、lambda表达式等，并得到新的结果，返回一个array对象，和原始操作对象x具有完全相同的维度和形状

例子：

```python
import numpy as np

x = np.arange(0, 10)
print(x)						        
print(np.piecewise(x, [x < 3, x >= 6], [-1, 1])) 
```



运行结果：

![image-20220430164847221](C:\Users\82135\AppData\Roaming\Typora\typora-user-images\image-20220430164847221.png)



**(2)**

**corrcoef(x, y = None, rowvar = True, 偏差=<无值>, ddof = <无值> )**

参数：

- x : array_like 包含多个变量和观测值的1-D或2-D数组。x的每一行代表一个变量，每一列都是对所有这些变量的单一观察。
- y : array_like ，可选。包含另一组变量和观察，且y与x具有相同的形状
- rowvar： bool, 可选，如果rowvar为True（默认值），则每行代表一个变量，并在列中显示。否则，转换关系：每列代表一个变量，而行包含观察。
- 偏差： _NoValue，可选，没有效果，请勿使用
- ddof： _NoValue，可选，没有效果，请勿使用

功能：计算矩阵的相关系数，返回Pearson乘积矩相关系数的矩阵

例子：

```python
import numpy as np

Array1 = [[1, 2, 3], [4, 5, 6]]
Array2 = [[11, 25, 346], [734, 48, 49]]
Mat1 = np.array(Array1)
Mat2 = np.array(Array2)
correlation = np.corrcoef(Mat1, Mat2)
print("矩阵1\n", Mat1)
print("矩阵2\n", Mat2)
print("相关系数矩阵\n", correlation)
```

运行结果：

<img src="C:\Users\82135\AppData\Roaming\Typora\typora-user-images\image-20220430170113614.png" alt="image-20220430170113614" style="zoom: 67%;" />



**cov(m, y=None, rowvar=True )**

参数：

- m： array_like，包含多个变量和观测值的1-D或2-D数组，m的每一行代表一个变量，每一列都是对所有这些变量的单一观察。
- y： array_like, 可选，另外一组变量和观察，y具有与m相同的形状。
- rowvar： bool, 可选，如果rowvar为True（默认值），则每行代表一个变量X，另一个行为变量Y。否则，转换关系：每列代表一个变量X，另一个列为变量Y。

功能：给定数据和权重，估计协方差矩阵。返回变量的协方差矩阵

例子：

```python
import numpy as np

A = np.array([[0, 2], [1, 1], [2, 0]]).T
print(A)  						
B = np.cov(A)  					
print(B)  						
C = np.cov(A, rowvar=False)     
print(C)  						
```

运行结果：

<img src="C:\Users\82135\AppData\Roaming\Typora\typora-user-images\image-20220430170532348.png" alt="image-20220430170532348" style="zoom:67%;" />

**std(a, axis=None, dtype=None, out=None, ddof=0 )**

参数：

- a： array_like，需计算标准差的数组

- axis： int, 可选，计算标准差的轴。默认情况是计算扁平数组的标准偏差。
- dtype： dtype, 可选，用于计算标准差的类型。对于整数类型的数组，缺省值为Float 64，对于浮点数类型的数组，它与数组类型相同。
- out： ndarray, 可选，将结果放置在其中的替代输出数组。它必须具有与预期输出相同的形状，但如果有必要，类型(计算值的类型)将被转换。
- ddof：int, 可选，Delta的自由度

功能：计算沿指定轴的标准差。返回数组元素的标准差

例子：

```python
import numpy as np

a = np.array([[1, 2], [3, 4]])
print(np.std(a))           
print(np.std(a, axis=0))  # 横轴
print(np.std(a, axis=1))  # 纵轴
```

运行结果：

<img src="C:\Users\82135\AppData\Roaming\Typora\typora-user-images\image-20220430170815918.png" alt="image-20220430170815918" style="zoom:67%;" />

### 上机题：

**1） 创建一个 8*8 矩阵，把 1，3，5，7 行和 2，4，6 列的元素设置为 1 **

**2） 创建一个数值范围为 0～1，间隔为 0.01 的数组 **

**创建 包含 100 个服从正态分布随机数的数组 **

**对创建的两个数组进行四则运算 **

**对创建的随机数组进行简单的统计分析（即调用常用的 numpy 分析函数，比如标准差， 累计和等等**



解答：

(1)

源代码：

```python
import numpy as np

mat1 = np.matrix([[0, 1], [0, 0]])
mat2 = np.matrix([[0, 0], [0, 0]])
mat = np.bmat('mat1 mat1 mat1 mat2; mat1 mat1 mat1 mat2; mat1 mat1 mat1 mat2; mat1 mat1 mat1 mat2')
print(mat)
```

运行结果：

![image-20220430160459595](C:\Users\82135\AppData\Roaming\Typora\typora-user-images\image-20220430160459595.png)

(2)

源代码：

```python
import numpy as np

arr1 = np.arange(0, 1.0, 0.01)
arr2 = np.random.randn(100)
print('arr1 = \n', arr1)
print('arr2 = \n', arr2)
print('arr1 + arr2 = \n', arr1 + arr2)
print('arr1 - arr2 = \n', arr1 - arr2)
print('arr1 * arr2 = \n', arr1 * arr2)
print('arr1 / arr2 = \n', arr1 / arr2)
print('arr1的累计和为：\n', np.cumsum(arr1))
print('arr2的累计和为：\n', np.cumsum(arr2))
print('arr1的标准差：\n', np.std(arr1))
print('arr2的标准差：\n', np.std(arr2))
```

运行结果：

四则运算：

```
arr1 = 
 [0.   0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08 0.09 0.1  0.11 0.12 0.13
 0.14 0.15 0.16 0.17 0.18 0.19 0.2  0.21 0.22 0.23 0.24 0.25 0.26 0.27
 0.28 0.29 0.3  0.31 0.32 0.33 0.34 0.35 0.36 0.37 0.38 0.39 0.4  0.41
 0.42 0.43 0.44 0.45 0.46 0.47 0.48 0.49 0.5  0.51 0.52 0.53 0.54 0.55
 0.56 0.57 0.58 0.59 0.6  0.61 0.62 0.63 0.64 0.65 0.66 0.67 0.68 0.69
 0.7  0.71 0.72 0.73 0.74 0.75 0.76 0.77 0.78 0.79 0.8  0.81 0.82 0.83
 0.84 0.85 0.86 0.87 0.88 0.89 0.9  0.91 0.92 0.93 0.94 0.95 0.96 0.97
 0.98 0.99]
 
arr2 = 
 [ 1.12461739 -1.86661959 -0.32134992  0.24310494 -0.20470805 -1.20734406
  0.3505258  -0.54729804 -0.82314913  0.89506786 -0.90237322  0.83730326
  1.50210151 -0.07911609 -0.51792169  1.97308123 -0.6637559  -0.0635877
  0.78255701 -1.57813837  1.27580393  2.54077619 -0.51466069  1.93710069
 -0.59261963 -0.99192323  0.22658144  0.02547592 -0.36063919  1.25813236
 -1.09802746 -0.66564881 -1.42696566  0.17488689  2.65292038 -0.14253025
  0.85539455  0.59025932 -0.07606799 -0.8739984  -0.24471002 -1.4895134
 -1.13683934 -1.50774947  0.27688929  0.34343215  0.0661682  -0.75211449
  1.58311484  0.36855858  0.21147928  0.86303163 -0.32628196  0.06288931
  0.59756015  0.93234586 -1.40649778  1.10440039  1.55808145  1.27345804
  2.394339   -1.115848    1.18554483 -0.00267228  0.27659693 -0.5013233
 -0.00690971  0.79095296 -0.4526995  -0.34861904  1.10186349 -0.96446204
  0.07828198  1.45405    -1.53563805 -1.12477837  0.05166239  0.23768319
 -0.10508975  0.09518444  1.44986003 -2.10176693 -0.81637368 -0.29158826
  0.04363691 -0.8729083  -0.98505051 -0.45169087 -0.20801117  0.50279515
 -1.75001787  1.15047698 -0.94178193 -0.04522306  0.86628966  0.13105778
 -1.67876284  1.68969873  0.44880394  0.24779824]
 
arr1 + arr2 = 
 [ 1.12461739 -1.85661959 -0.30134992  0.27310494 -0.16470805 -1.15734406
  0.4105258  -0.47729804 -0.74314913  0.98506786 -0.80237322  0.94730326
  1.62210151  0.05088391 -0.37792169  2.12308123 -0.5037559   0.1064123
  0.96255701 -1.38813837  1.47580393  2.75077619 -0.29466069  2.16710069
 -0.35261963 -0.74192323  0.48658144  0.29547592 -0.08063919  1.54813236
 -0.79802746 -0.35564881 -1.10696566  0.50488689  2.99292038  0.20746975
  1.21539455  0.96025932  0.30393201 -0.4839984   0.15528998 -1.0795134
 -0.71683934 -1.07774947  0.71688929  0.79343215  0.5261682  -0.28211449
  2.06311484  0.85855858  0.71147928  1.37303163  0.19371804  0.59288931
  1.13756015  1.48234586 -0.84649778  1.67440039  2.13808145  1.86345804
  2.994339   -0.505848    1.80554483  0.62732772  0.91659693  0.1486767
  0.65309029  1.46095296  0.2273005   0.34138096  1.80186349 -0.25446204
  0.79828198  2.18405    -0.79563805 -0.37477837  0.81166239  1.00768319
  0.67491025  0.88518444  2.24986003 -1.29176693  0.00362632  0.53841174
  0.88363691 -0.0229083  -0.12505051  0.41830913  0.67198883  1.39279515
 -0.85001787  2.06047698 -0.02178193  0.88477694  1.80628966  1.08105778
 -0.71876284  2.65969873  1.42880394  1.23779824]
 
arr1 - arr2 = 
 [-1.12461739  1.87661959  0.34134992 -0.21310494  0.24470805  1.25734406
 -0.2905258   0.61729804  0.90314913 -0.80506786  1.00237322 -0.72730326
 -1.38210151  0.20911609  0.65792169 -1.82308123  0.8237559   0.2335877
 -0.60255701  1.76813837 -1.07580393 -2.33077619  0.73466069 -1.70710069
  0.83261963  1.24192323  0.03341856  0.24452408  0.64063919 -0.96813236
  1.39802746  0.97564881  1.74696566  0.15511311 -2.31292038  0.49253025
 -0.49539455 -0.22025932  0.45606799  1.2639984   0.64471002  1.8995134
  1.55683934  1.93774947  0.16311071  0.10656785  0.3938318   1.22211449
 -1.10311484  0.12144142  0.28852072 -0.35303163  0.84628196  0.46711069
 -0.05756015 -0.38234586  1.96649778 -0.53440039 -0.97808145 -0.68345804
 -1.794339    1.725848   -0.56554483  0.63267228  0.36340307  1.1513233
  0.66690971 -0.12095296  1.1326995   1.03861904 -0.40186349  1.67446204
  0.64171802 -0.72405     2.27563805  1.87477837  0.70833761  0.53231681
  0.88508975  0.69481556 -0.64986003  2.91176693  1.63637368  1.12158826
  0.79636309  1.7229083   1.84505051  1.32169087  1.08801117  0.38720485
  2.65001787 -0.24047698  1.86178193  0.97522306  0.07371034  0.81894222
  2.63876284 -0.71969873  0.53119606  0.74220176]
arr1 * arr2 = 
 [ 0.00000000e+00 -1.86661959e-02 -6.42699845e-03  7.29314826e-03
 -8.18832210e-03 -6.03672031e-02  2.10315478e-02 -3.83108626e-02
 -6.58519303e-02  8.05561074e-02 -9.02373215e-02  9.21033585e-02
  1.80252182e-01 -1.02850915e-02 -7.25090372e-02  2.95962184e-01
 -1.06200944e-01 -1.08099088e-02  1.40860261e-01 -2.99846289e-01
  2.55160785e-01  5.33563000e-01 -1.13225352e-01  4.45533158e-01
 -1.42228712e-01 -2.47980808e-01  5.89111733e-02  6.87849892e-03
 -1.00978974e-01  3.64858383e-01 -3.29408237e-01 -2.06351132e-01
 -4.56629010e-01  5.77126737e-02  9.01992931e-01 -4.98855881e-02
  3.07942039e-01  2.18395949e-01 -2.89058371e-02 -3.40859375e-01
 -9.78840085e-02 -6.10700495e-01 -4.77472524e-01 -6.48332272e-01
  1.21831290e-01  1.54544468e-01  3.04373729e-02 -3.53493811e-01
  7.59895124e-01  1.80593704e-01  1.05739639e-01  4.40146131e-01
 -1.69666621e-01  3.33313345e-02  3.22682482e-01  5.12790225e-01
 -7.87638755e-01  6.29508220e-01  9.03687244e-01  7.51340244e-01
  1.43660340e+00 -6.80667280e-01  7.35037793e-01 -1.68353779e-03
  1.77022034e-01 -3.25860147e-01 -4.56040939e-03  5.29938481e-01
 -3.07835660e-01 -2.40547137e-01  7.71304440e-01 -6.84768046e-01
  5.63630221e-02  1.06145650e+00 -1.13637216e+00 -8.43583781e-01
  3.92634173e-02  1.83016054e-01 -8.19700067e-02  7.51957091e-02
  1.15988802e+00 -1.70243122e+00 -6.69426416e-01 -2.42018257e-01
  3.66550065e-02 -7.41972059e-01 -8.47143440e-01 -3.92971058e-01
 -1.83049831e-01  4.47487681e-01 -1.57501608e+00  1.04693405e+00
 -8.66439372e-01 -4.20574472e-02  8.14312279e-01  1.24504890e-01
 -1.61161233e+00  1.63900777e+00  4.39827865e-01  2.45320261e-01]
 
arr1 / arr2 = 
 [ 0.00000000e+00 -5.35727795e-03 -6.22374508e-02  1.23403497e-01
 -1.95400227e-01 -4.14132157e-02  1.71171425e-01 -1.27901062e-01
 -9.71877357e-02  1.00551035e-01 -1.10818892e-01  1.31374145e-01
  7.98880761e-02 -1.64315505e+00 -2.70311133e-01  7.60232259e-02
 -2.41052471e-01 -2.67347306e+00  2.30015191e-01 -1.20395020e-01
  1.56763901e-01  8.26519080e-02 -4.27466103e-01  1.18734148e-01
 -4.04981521e-01 -2.52035633e-01  1.14749030e+00  1.05982426e+01
 -7.76399254e-01  2.30500391e-01 -2.73217211e-01 -4.65711040e-01
 -2.24252068e-01  1.88693389e+00  1.28160650e-01 -2.45561904e+00
  4.20858420e-01  6.26843128e-01 -4.99553082e+00 -4.46225074e-01
 -1.63458774e+00 -2.75257678e-01 -3.69445342e-01 -2.85193269e-01
  1.58908274e+00  1.31030248e+00  6.95197975e+00 -6.24904858e-01
  3.03199735e-01  1.32950371e+00  2.36429783e+00  5.90940104e-01
 -1.59371359e+00  8.42750536e+00  9.03674716e-01  5.89909840e-01
 -3.98152069e-01  5.16117169e-01  3.72252682e-01  4.63305410e-01
  2.50591082e-01 -5.46669439e-01  5.22966307e-01 -2.35753543e+02
  2.31383626e+00 -1.29656849e+00 -9.55177404e+01  8.47079456e-01
 -1.50210018e+00 -1.97923785e+00  6.35287410e-01 -7.36161688e-01
  9.19751960e+00  5.02046009e-01 -4.81884387e-01 -6.66798026e-01
  1.47108948e+01  3.23960650e+00 -7.42222704e+00  8.29967571e+00
  5.51777402e-01 -3.85390020e-01 -1.00444199e+00 -2.84647947e+00
  1.92497579e+01 -9.73756345e-01 -8.73051676e-01 -1.92609604e+00
 -4.23054201e+00  1.77010460e+00 -5.14280464e-01  7.90976281e-01
 -9.76871582e-01 -2.05647289e+01  1.08508741e+00  7.24871126e+00
 -5.71849683e-01  5.74066833e-01  2.18358152e+00  3.99518570e+00]
```

统计分析：

```
arr1的累计和为：
 [0.000e+00 1.000e-02 3.000e-02 6.000e-02 1.000e-01 1.500e-01 2.100e-01
 2.800e-01 3.600e-01 4.500e-01 5.500e-01 6.600e-01 7.800e-01 9.100e-01
 1.050e+00 1.200e+00 1.360e+00 1.530e+00 1.710e+00 1.900e+00 2.100e+00
 2.310e+00 2.530e+00 2.760e+00 3.000e+00 3.250e+00 3.510e+00 3.780e+00
 4.060e+00 4.350e+00 4.650e+00 4.960e+00 5.280e+00 5.610e+00 5.950e+00
 6.300e+00 6.660e+00 7.030e+00 7.410e+00 7.800e+00 8.200e+00 8.610e+00
 9.030e+00 9.460e+00 9.900e+00 1.035e+01 1.081e+01 1.128e+01 1.176e+01
 1.225e+01 1.275e+01 1.326e+01 1.378e+01 1.431e+01 1.485e+01 1.540e+01
 1.596e+01 1.653e+01 1.711e+01 1.770e+01 1.830e+01 1.891e+01 1.953e+01
 2.016e+01 2.080e+01 2.145e+01 2.211e+01 2.278e+01 2.346e+01 2.415e+01
 2.485e+01 2.556e+01 2.628e+01 2.701e+01 2.775e+01 2.850e+01 2.926e+01
 3.003e+01 3.081e+01 3.160e+01 3.240e+01 3.321e+01 3.403e+01 3.486e+01
 3.570e+01 3.655e+01 3.741e+01 3.828e+01 3.916e+01 4.005e+01 4.095e+01
 4.186e+01 4.278e+01 4.371e+01 4.465e+01 4.560e+01 4.656e+01 4.753e+01
 4.851e+01 4.950e+01]
 
arr2的累计和为：
 [ 1.04617907  3.06704145  2.81408038  1.0238652  -0.18291216 -0.15377977
 -1.39449538 -2.13981299 -1.41530291 -2.61024537 -3.77943424 -3.33657993
 -4.56717274 -4.7206914  -3.31169746 -3.27343716 -4.29505715 -4.58207524
 -4.54981918 -4.04860572 -3.05292983 -2.36618046 -1.81776064 -1.82317306
 -2.42289538 -2.36023042 -0.42383216 -1.11986553  1.58228157  1.1313766
  2.35686173  0.97671114  1.85351408  2.84162882  2.87717122  2.29053907
  0.91024821  1.74661066  3.52784687  1.35167271 -0.63500732 -1.73571854
  1.08051358  0.01507221  0.16770305  1.51206662  1.18453689  1.69725957
  0.85431595  2.35292125  2.83879227  1.69168547  1.78921095  2.08166064
  2.48933944  2.49835113  1.42987108 -0.48047738 -0.68928766 -0.48854887
  0.18274367 -0.35743382 -0.70358235 -0.16461831 -0.20612614 -0.46138806
 -1.0124818  -0.80063617 -1.59552667 -1.78408204 -1.51965713 -3.17804071
 -2.70723002 -3.15540522 -2.88252109 -3.3391282  -4.00546681 -4.9793917
 -5.97687188 -6.80217064 -7.5093761  -6.91379651 -7.26227669 -7.3656374
 -7.0555903  -5.69699244 -5.96660527 -4.51338159 -6.1200174  -6.91369619
 -6.9611698  -6.49370404 -6.83416519 -7.26683156 -6.50465032 -6.01192892
 -5.65430215 -3.16600296 -3.27592555 -1.94830967]
 
arr1的标准差：
 0.2886607004772212
 
arr2的标准差：
 1.0145120820520164
```

